<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <!--<img src="images/logo.png" alt="Logo" />-->
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/AlexGustafsson/itslearning'>Available on Github</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>This page will guide you through using the It&rsquo;s Learning API written in modern ES6.
The API is available on <a href="https://www.npmjs.com/package/itslearning">NPM</a> and <a href="https://github.com/AlexGustafsson/itslearning">GitHub</a>.</p>

          <h1 id="itslearning">ItsLearning</h1>

<blockquote>
<p>To use the API, you must first include it</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">ItsLearning</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'itslearning'</span><span class="p">);</span>
</code></pre>
<p>To access further functionality, you must first find an organisation to work with.
The API exports two methods, <code class="prettyprint">searchOrganisation</code> and <code class="prettyprint">fetchOrganisation</code>.</p>

<h2 id="search-for-organisations">Search for organisations</h2>

<blockquote>
<p>Searching for an organisation</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ItsLearning</span><span class="p">.</span><span class="nx">searchOrganisation</span><span class="p">(</span><span class="s1">'Blekinge Tekniska Högskola'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">matches</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`A match was: </span><span class="p">${</span><span class="nx">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">}</span><span class="s2"> with the id </span><span class="p">${</span><span class="nx">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="takes">Takes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>query</td>
<td><strong>required</strong></td>
<td>The partial name of an organisation to search for.</td>
</tr>
</tbody></table>

<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>List of organisations.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>numeric id of organisation.</td>
</tr>
<tr>
<td>name</td>
<td>The name of the organisation.</td>
</tr>
</tbody></table>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-an-organisation">Fetching an organisation</h2>

<blockquote>
<p>Fetching an organisation</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ItsLearning</span><span class="p">.</span><span class="nx">fetchOrganisation</span><span class="p">(</span><span class="mi">640</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">organisation</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// organisation is an instance of Organisation</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="takes">Takes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>The numeric id for the organisation to fetch.</td>
</tr>
</tbody></table>

<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>Organisation object.</p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

          <h1 id="organisation">Organisation</h1>

<p>An organisation is retrieved when calling <code class="prettyprint">ItsLearning.fetchOrganisation</code> successfully.
The object contains a series of properties.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td> The name of the organisation.</td>
</tr>
<tr>
<td>shortName</td>
<td>A shorter name for the organisation. May be <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>id</td>
<td>The numeric id of the organisation.</td>
</tr>
<tr>
<td>url</td>
<td>A url to the organisation&rsquo;s It&rsquo;s Learning site.</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Organisation '</span><span class="p">${</span><span class="nx">organisation</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">' (</span><span class="p">${</span><span class="nx">organisation</span><span class="p">.</span><span class="nx">shortName</span><span class="p">}</span><span class="s2">) has id '</span><span class="p">${</span><span class="nx">organisation</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">' and url '</span><span class="p">${</span><span class="nx">organisation</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2">'``);
</span></code></pre>
<p>To access further functionality, one must authenticate as a user of the organisation. THis is done by calling the <code class="prettyprint">authenticate</code> function.</p>

<h2 id="authenticating-as-a-user">Authenticating as a user</h2>

<blockquote>
<p>Authenticating</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">organisation</span><span class="p">.</span><span class="nx">authenticate</span><span class="p">(</span><span class="s1">'username'</span><span class="p">,</span> <span class="s1">'password'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// further use</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">})</span>
</code></pre>
<h3 id="takes">Takes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><strong>required</strong></td>
<td>The username to use when authenticating.</td>
</tr>
<tr>
<td>password</td>
<td><strong>required</strong></td>
<td>The password to use when authenticating.</td>
</tr>
</tbody></table>

<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>User object.</p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

          <h1 id="user">User</h1>

<p>A user is retrieved when authenticating successfully.
The object contains a series of properties.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Availability</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>always</td>
<td> The numeric id of the user.</td>
</tr>
<tr>
<td>firstName</td>
<td>after .fetchInfo()</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>after .fetchInfo()</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>language</td>
<td>after .fetchInfo()</td>
<td>The user&rsquo;s language.</td>
</tr>
<tr>
<td>profileImage</td>
<td>after .fetchInfo()</td>
<td>A URL to the user&rsquo;s profile image. May be <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>calendar</td>
<td>after .fetchInfo()</td>
<td>A URL to the user&rsquo;s personal calendar.</td>
</tr>
<tr>
<td>authenticated</td>
<td>always</td>
<td>A bool indicating whether or not the user is currently authenticated.</td>
</tr>
</tbody></table>

<h2 id="fetching-personal-information">Fetching personal information</h2>

<blockquote>
<p>Fetching info</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchInfo</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// the user object has been updated. All properties are now available</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p><code class="prettyprint">undefined</code></p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-unread-messages-count">Fetching unread messages count</h2>

<blockquote>
<p>Fetching unread messages count</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchUnreadMessagesCount</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">count</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`There are </span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2"> unread messages`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>Numeric value indicating count.</p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-unread-notifications-count">Fetching unread notifications count</h2>

<blockquote>
<p>Fetching unread notifications count</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchUnreadMessagesCount</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">count</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`There are </span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2"> unread notifications`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>Numeric value indicating count.</p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-notifications">Fetching notifications</h2>

<blockquote>
<p>Fetching notifications count</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchNotifications</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">notifications</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// further use of the notifications</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>List containing notifications objects.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The numeric id of the notification.</td>
</tr>
<tr>
<td>text</td>
<td>Text content of the notification.</td>
</tr>
<tr>
<td>date</td>
<td>Date when the notification was published.</td>
</tr>
<tr>
<td>author</td>
<td>Object containing information about the author.</td>
</tr>
<tr>
<td>type</td>
<td>Type of notification. Values include &lsquo;Assessment&rsquo;.</td>
</tr>
<tr>
<td>url</td>
<td>A URL to the notification.</td>
</tr>
<tr>
<td>content</td>
<td> A URL to the content of the notification.</td>
</tr>
<tr>
<td>isRead</td>
<td> A boolean value representing whether or not the notification has been read.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Property</th>
<th> Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The numeric id of the author.</td>
</tr>
<tr>
<td>firstName</td>
<td>The author&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>The author&rsquo;s last name.</td>
</tr>
<tr>
<td>profile</td>
<td> A URL to the author&rsquo;s profile</td>
</tr>
<tr>
<td>profileImage</td>
<td>A URL to the author&rsquo;s profile image. May be <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-news">Fetching news</h2>

<blockquote>
<p>Fetching unread notifications count</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchNews</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">news</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// further use of the news</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>List containing news objects.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The numeric id of the news.</td>
</tr>
<tr>
<td>location</td>
<td>Location of the news within the organisation.</td>
</tr>
<tr>
<td>text</td>
<td>Text content of the news.</td>
</tr>
<tr>
<td>date</td>
<td>Date when the news was published.</td>
</tr>
<tr>
<td>author</td>
<td>Object containing information about the author.</td>
</tr>
<tr>
<td>type</td>
<td>Type of news.</td>
</tr>
<tr>
<td>contents</td>
<td> Object containing contents.</td>
</tr>
<tr>
<td>isRead</td>
<td> A boolean value representing whether or not the notification has been read.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Property</th>
<th> Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The numeric id of the author.</td>
</tr>
<tr>
<td>firstName</td>
<td>The author&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>The author&rsquo;s last name.</td>
</tr>
<tr>
<td>profile</td>
<td> A URL to the author&rsquo;s profile</td>
</tr>
<tr>
<td>profileImage</td>
<td>A URL to the author&rsquo;s profile image. May be <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The numeric id of the content.</td>
</tr>
<tr>
<td>text</td>
<td> Text of the message. May be <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>url</td>
<td> A URL to the message. May be <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

<h2 id="fetching-comments-to-news">Fetching comments to news</h2>

<blockquote>
<p>Fetching comments to news</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">user</span><span class="p">.</span><span class="nx">fetchComments</span><span class="p">(</span><span class="nx">NEWS_ID</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">comments</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// further use of the comments</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// there was an error with the request</span>
<span class="p">});</span>
</code></pre>
<h3 id="returns-promise">Returns Promise</h3>

<h4 id="resolve">Resolve</h4>

<p>List containing comments.</p>

<h4 id="reject">Reject</h4>

<p>Error reflecting cause.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
